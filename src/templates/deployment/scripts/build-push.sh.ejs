#! /usr/bin/env sh

# Exit in case of error
set -e

STACK_NAME=${STACK_NAME?Variable not set} \
APP_URL=${APP_URL?Variable not set} \
IMAGE_TAG=${IMAGE_TAG?Variable not set} \
CI_REGISTRY_IMAGE=${CI_REGISTRY_IMAGE?Variable not set} \
docker compose \
-f ${FILE_NAME?Variable not set} \
build

STACK_NAME=${STACK_NAME?Variable not set} \
APP_URL=${APP_URL?Variable not set} \
IMAGE_TAG=${IMAGE_TAG?Variable not set} \
CI_REGISTRY_IMAGE=${CI_REGISTRY_IMAGE?Variable not set} \
docker compose \
-f ${FILE_NAME?Variable not set} \
push
